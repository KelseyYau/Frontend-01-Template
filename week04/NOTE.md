## 宏任务和微任务

### 宏任务
由宿主环境分配的任务，为宏任务。

常见的宿主环境有浏览器、node

浏览器环境能够触发宏任务操作:

* I/O操作
* setTimeout
* setInterval
* 浏览器事件
* ...

node环境能够触发宏任务的操作:
* I/O操作
* setTimeout
* setInterval
* setImmediate
* ...

宏任务队列

多个宏任务结合在一起，可以认为是一个宏任务队列，同时队列中的任务执行“**先进先出**”原则

### 微任务
由js引擎发起的任务称之为**微任务**。微任务仅来自于我们的代码。它们通常是由 promise 创建：对 .then/catch/finally 处理程序的执行会成为微任务。微任务也被用于 await 的“幕后”，因为它是 promise 处理的另一种形式。

还有一个特殊的函数 queueMicrotask(func)，它对 func 进行排队，以在微任务队列中执行

#### 微任务队列的特点
1. 每个宏任务中有且只有一个微任务队列
2. 微任务队列也是执行“先进先出”的原则


## 事件循环
